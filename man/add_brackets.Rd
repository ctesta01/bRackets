% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/add_brackets.R
\name{add_brackets}
\alias{add_brackets}
\title{Add one or more brackets to a ggplot}
\usage{
add_brackets(plt, bracket_specs)
}
\arguments{
\item{plt}{A ggplot object to annotate.}

\item{bracket_specs}{A list of bracket specification lists. Each element should be
a named list of arguments accepted by \code{\link{build_bracket}} (e.g.,
\code{list(orientation="v", x0=..., y0=..., y1=..., text="***")}).}
}
\value{
A ggplot object: \code{plt} with added bracket layers.
}
\description{
Adds bracket annotations to an existing ggplot object using a list of bracket
specifications. Each specification is passed to \code{\link{build_bracket}}
(via \code{do.call()}) to produce segment and label data frames, which are then
combined and added to the plot as \code{\link[ggplot2]{geom_segment}} and
(optionally) \code{\link[ggplot2]{geom_text}} layers.
}
\details{
For facet-specific brackets, include facetting variables in each spec via
\code{facet_vars} (see \code{\link{build_bracket}}). ggplot2 will place each row
of the annotation data into matching panels.

This function currently passes vector-valued aesthetics (e.g., \code{segs$color})
directly as geom parameters. In ggplot2, scalar parameters are recycled and are
not intended for per-row styling. If you want per-row aesthetics, map \code{color},
\code{linewidth}, and \code{linetype} inside \code{aes()} and use identity scales
(e.g., \code{scale_colour_identity()}, \code{scale_linewidth_identity()},
\code{scale_linetype_identity()}).
}
\examples{
library(ggplot2)
df <- data.frame(x = c(1, 2), y = c(0, 1))
p <- ggplot(df, aes(x, y)) + geom_point()

specs <- list(
  list(
    orientation = "h",
    x0 = 1, x1 = 2, y0 = 1.2,
    position = "top",
    text = "*** significant!",
    linetype = "dashed"
  )
)

p2 <- add_brackets(p, specs)

}
